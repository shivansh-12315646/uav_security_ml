<!DOCTYPE html>
<html>
<head>
    <title>UAV Security Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header>
    <h1>ğŸ›¡ UAV Communication Security Dashboard</h1>
    <p>Supervised MLâ€“Based Intrusion Detection System</p>
</header>

<section class="panel">
    <h2>ğŸ” Live Communication Analysis</h2>

    <form method="POST">
        <input name="packet_size" placeholder="Packet Size" required>
        <input name="inter_arrival" placeholder="Inter-arrival Time" required>
        <input name="packet_rate" placeholder="Packet Rate" required>
        <input name="duration" placeholder="Connection Duration" required>
        <input name="failed_logins" placeholder="Failed Logins" required>
        <button type="submit">Analyze</button>
    </form>

    {% if prediction %}
        {% if prediction == "attack" %}
            <div class="alert attack">ğŸš¨ ATTACK DETECTED</div>
        {% else %}
            <div class="alert normal">âœ… NORMAL COMMUNICATION</div>
        {% endif %}
    {% endif %}
</section>

<section class="panel">
    <h2>ğŸ“Š Algorithm Performance Comparison</h2>
    <canvas id="performanceChart"></canvas>
</section>

<section class="panel">
    <h2>ğŸ“‹ Algorithm Comparison</h2>
    <table>
        <tr>
            <th>Algorithm</th>
            <th>Accuracy</th>
            <th>Complexity</th>
            <th>Explainability</th>
        </tr>
        <tr><td>Rule-Based IDS</td><td>78%</td><td>Low</td><td>High</td></tr>
        <tr><td>Logistic Regression</td><td>90%</td><td>Low</td><td>High</td></tr>
        <tr><td>SVM</td><td>93%</td><td>Medium</td><td>Medium</td></tr>
        <tr><td><b>Random Forest</b></td><td><b>96%</b></td><td>Medium</td><td>High</td></tr>
    </table>
</section>

<section class="panel">
    <h2>ğŸ“œ Detection History</h2>
    <ul>
        {% for log in logs %}
            <li>{{ log.features }} â†’ <b>{{ log.result }}</b></li>
        {% endfor %}
    </ul>
</section>

<script>
const ctx = document.getElementById('performanceChart');
new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Rule-Based', 'Logistic Reg.', 'SVM', 'Random Forest'],
        datasets: [{
            label: 'Accuracy (%)',
            data: [78, 90, 93, 96]
        }]
    }
});
</script>

</body>
</html>
