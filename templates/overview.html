{% extends "base.html" %}

{% block title %}Overview - UAV Security ML System{% endblock %}

{% block extra_css %}
<style>
/* Hero Section with Particles.js */
.hero-section {
    position: relative;
    min-height: 500px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    margin: -30px -30px 30px -30px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

#particles-js {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}

.hero-content {
    position: relative;
    z-index: 10;
    text-align: center;
    color: white;
    padding: 40px 20px;
}

.hero-content h1 {
    font-size: 3rem;
    margin-bottom: 20px;
    font-weight: 700;
}

.hero-subtitle {
    font-size: 1.3rem;
    margin-bottom: 40px;
    opacity: 0.95;
}

/* Statistics Cards */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}

.stat-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-radius: 15px;
    padding: 25px;
    border: 1px solid rgba(102, 126, 234, 0.2);
    transition: all 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    border-color: rgba(102, 126, 234, 0.5);
}

.stat-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

.stat-value {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 10px;
    color: #667eea;
}

.stat-label {
    font-size: 0.95rem;
    opacity: 0.8;
}

/* Content Sections */
.content-section {
    background: #1e293b;
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 30px;
    border: 1px solid rgba(102, 126, 234, 0.1);
}

.content-section h2 {
    color: #667eea;
    margin-bottom: 20px;
    font-size: 1.8rem;
}

.feature-list {
    list-style: none;
    padding: 0;
}

.feature-list li {
    padding: 10px 0;
    font-size: 1.05rem;
    line-height: 1.6;
}

/* Flowchart */
.flowchart-step {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    border-left: 4px solid #667eea;
    padding: 25px;
    margin-bottom: 20px;
    border-radius: 10px;
    position: relative;
}

.flowchart-step h3 {
    color: #667eea;
    margin-bottom: 15px;
    font-size: 1.3rem;
}

.flowchart-step ul {
    list-style: none;
    padding-left: 0;
}

.flowchart-step li {
    padding: 5px 0;
    padding-left: 25px;
    position: relative;
}

.flowchart-step li::before {
    content: "‚Ä¢";
    position: absolute;
    left: 0;
    color: #667eea;
    font-weight: bold;
}

.arrow-down {
    text-align: center;
    font-size: 2rem;
    color: #667eea;
    margin: 10px 0;
    animation: bounce 2s infinite;
}

/* Architecture Diagram */
.arch-layer {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 2px solid #667eea;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 15px;
    text-align: center;
}

.arch-layer h4 {
    color: #667eea;
    margin-bottom: 10px;
}

.arch-arrow {
    text-align: center;
    font-size: 1.5rem;
    color: #667eea;
    margin: 5px 0;
}

/* Technology Stack */
.tech-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.tech-category {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    border-radius: 10px;
    padding: 20px;
    border: 1px solid rgba(102, 126, 234, 0.2);
}

.tech-category h4 {
    color: #667eea;
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.tech-category ul {
    list-style: none;
    padding: 0;
}

.tech-category li {
    padding: 8px 0;
    font-size: 0.95rem;
    opacity: 0.9;
}

/* Copyright Marquee - ONLY on Overview */
.copyright-marquee {
    background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
    background-size: 200% 100%;
    animation: gradient-shift 3s infinite;
    padding: 15px 0;
    overflow: hidden;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
}

.marquee-content {
    display: inline-block;
    padding-left: 100%;
    animation: marquee 30s linear infinite;
    color: white;
    font-weight: 500;
    white-space: nowrap;
}

@keyframes marquee {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-100%);
    }
}

@keyframes gradient-shift {
    0%, 100% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Section with Particles.js -->
<div class="hero-section">
    <div id="particles-js"></div>
    <div class="hero-content">
        <h1 id="typed-title"></h1>
        <p class="hero-subtitle fade-in-up">Advanced AI-Powered Drone Security & Real-Time Threat Detection</p>
        
        <!-- Statistics Cards -->
        <div class="stats-grid" style="max-width: 1200px; margin: 0 auto;">
            <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                <div class="stat-icon"><i class="fas fa-shield-alt"></i></div>
                <div class="stat-value" id="stat-threats">0</div>
                <div class="stat-label">Total Threats Detected</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                <div class="stat-icon"><i class="fas fa-bullseye"></i></div>
                <div class="stat-value" id="stat-accuracy">0%</div>
                <div class="stat-label">Detection Accuracy</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                <div class="stat-icon"><i class="fas fa-server"></i></div>
                <div class="stat-value" id="stat-uptime">0%</div>
                <div class="stat-label">System Uptime</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                <div class="stat-icon"><i class="fas fa-tachometer-alt"></i></div>
                <div class="stat-value" id="stat-response">0s</div>
                <div class="stat-label">Avg Response Time</div>
            </div>
        </div>
    </div>
</div>

<!-- Project Introduction -->
<div class="content-section" data-aos="fade-up">
    <h2><i class="fas fa-info-circle"></i> Welcome to UAV Security Threat Detection System</h2>
    <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
        Our advanced machine learning platform provides <strong>real-time monitoring, analysis, and neutralization</strong> of security threats targeting drone communications and operations.
    </p>
    <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">
        Using state-of-the-art AI algorithms including <strong>Random Forest, XGBoost, SVM, and Neural Networks</strong>, our system analyzes network traffic patterns, packet behaviors, and communication anomalies to detect and prevent cyber attacks on UAV systems before they cause damage.
    </p>
    
    <h3 style="color: #667eea; margin-top: 30px; margin-bottom: 20px;"><i class="fas fa-star"></i> Key Features</h3>
    <ul class="feature-list">
        <li>‚úÖ <strong>Real-Time Threat Detection</strong> with 98%+ Accuracy</li>
        <li>‚úÖ <strong>Multi-Algorithm ML Analysis</strong> (Random Forest, XGBoost, SVM, Neural Networks)</li>
        <li>‚úÖ <strong>Automated Threat Neutralization</strong> & Response Systems</li>
        <li>‚úÖ <strong>Comprehensive Analytics</strong> & Advanced Reporting</li>
        <li>‚úÖ <strong>Live Dashboard</strong> with Real-Time Monitoring</li>
        <li>‚úÖ <strong>Historical Attack Pattern Analysis</strong> & Learning</li>
        <li>‚úÖ <strong>Email & Slack Alert</strong> Notifications</li>
        <li>‚úÖ <strong>API Integration</strong> for Third-Party Systems</li>
    </ul>
</div>

<!-- How It Works - Flowchart -->
<div class="content-section" data-aos="fade-up">
    <h2><i class="fas fa-project-diagram"></i> How It Works - Step-by-Step Process</h2>
    
    <div class="flowchart-step" data-aos="fade-right">
        <h3>1. üì° DATA COLLECTION</h3>
        <ul>
            <li>Network traffic monitoring from UAV communications</li>
            <li>Packet capture and analysis (size, rate, timing)</li>
            <li>Communication pattern tracking</li>
        </ul>
    </div>
    <div class="arrow-down">‚Üì</div>
    
    <div class="flowchart-step" data-aos="fade-left">
        <h3>2. üîç FEATURE EXTRACTION</h3>
        <ul>
            <li>Packet Size Analysis</li>
            <li>Inter-Arrival Time Calculation</li>
            <li>Packet Rate Monitoring</li>
            <li>Session Duration Tracking</li>
            <li>Failed Login Attempts Detection</li>
        </ul>
    </div>
    <div class="arrow-down">‚Üì</div>
    
    <div class="flowchart-step" data-aos="fade-right">
        <h3>3. ü§ñ MACHINE LEARNING ANALYSIS</h3>
        <ul>
            <li>Data normalization using StandardScaler</li>
            <li>Multi-model prediction ensemble:
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>‚Ä¢ Random Forest Classification</li>
                    <li>‚Ä¢ XGBoost Gradient Boosting</li>
                    <li>‚Ä¢ Neural Network Deep Learning</li>
                    <li>‚Ä¢ SVM Pattern Recognition</li>
                </ul>
            </li>
            <li>Confidence score aggregation</li>
        </ul>
    </div>
    <div class="arrow-down">‚Üì</div>
    
    <div class="flowchart-step" data-aos="fade-left">
        <h3>4. ‚ö†Ô∏è THREAT ASSESSMENT</h3>
        <ul>
            <li>Threat probability calculation</li>
            <li>Risk level categorization:
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>‚Ä¢ Low (0-25%) - Monitor</li>
                    <li>‚Ä¢ Medium (25-50%) - Alert</li>
                    <li>‚Ä¢ High (50-75%) - Block</li>
                    <li>‚Ä¢ Critical (75-100%) - Immediate action</li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="arrow-down">‚Üì</div>
    
    <div class="flowchart-step" data-aos="fade-right">
        <h3>5. üõ°Ô∏è AUTOMATED RESPONSE SYSTEM</h3>
        <ul>
            <li>Real-time alert generation</li>
            <li>Email/Slack notifications sent</li>
            <li>Automatic traffic blocking for critical threats</li>
            <li>Malicious packet quarantine</li>
            <li>Attack pattern logging</li>
            <li>Firewall rule updates</li>
        </ul>
    </div>
    <div class="arrow-down">‚Üì</div>
    
    <div class="flowchart-step" data-aos="fade-left">
        <h3>6. üìä REPORTING & CONTINUOUS LEARNING</h3>
        <ul>
            <li>Store attack signatures in database</li>
            <li>Update threat intelligence database</li>
            <li>Retrain models with new attack patterns</li>
            <li>Generate analytics reports</li>
            <li>System performance monitoring</li>
        </ul>
    </div>
</div>

<!-- System Architecture -->
<div class="content-section" data-aos="fade-up">
    <h2><i class="fas fa-sitemap"></i> System Architecture</h2>
    
    <div class="arch-layer" data-aos="zoom-in">
        <h4>UAV COMMUNICATION NETWORK</h4>
        <p>Drones, Controllers, Ground Stations</p>
    </div>
    <div class="arch-arrow">‚Üì</div>
    
    <div class="arch-layer" data-aos="zoom-in">
        <h4>üîç TRAFFIC MONITORING LAYER</h4>
        <p>Deep Packet Inspection ‚Ä¢ Flow Analysis ‚Ä¢ Session Tracking</p>
    </div>
    <div class="arch-arrow">‚Üì</div>
    
    <div class="arch-layer" data-aos="zoom-in">
        <h4>üßÆ FEATURE EXTRACTION ENGINE</h4>
        <p>Statistical Analysis ‚Ä¢ Pattern Recognition ‚Ä¢ Anomaly Detection</p>
    </div>
    <div class="arch-arrow">‚Üì</div>
    
    <div class="arch-layer" data-aos="zoom-in">
        <h4>ü§ñ ML PREDICTION ENSEMBLE</h4>
        <p>RF | XGBoost | SVM | Neural Network - Voting Classifier for Final Decision</p>
    </div>
    <div class="arch-arrow">‚Üì</div>
    
    <div class="arch-layer" data-aos="zoom-in">
        <h4>‚ö° THREAT RESPONSE AUTOMATION</h4>
        <p>Alert System ‚Ä¢ Auto-Block ‚Ä¢ Notifications ‚Ä¢ Incident Logging</p>
    </div>
    <div class="arch-arrow">‚Üì</div>
    
    <div class="arch-layer" data-aos="zoom-in">
        <h4>üìä DASHBOARD & ANALYTICS</h4>
        <p>Real-time Monitoring ‚Ä¢ Historical Data ‚Ä¢ Reports ‚Ä¢ Performance Metrics</p>
    </div>
</div>

<!-- Technology Stack -->
<div class="content-section" data-aos="fade-up">
    <h2><i class="fas fa-code"></i> Technology Stack</h2>
    
    <div class="tech-grid">
        <div class="tech-category" data-aos="flip-left">
            <h4><i class="fab fa-python"></i> Frontend</h4>
            <ul>
                <li>Flask (Python Web Framework)</li>
                <li>Bootstrap 5 (Responsive Design)</li>
                <li>Chart.js (Data Visualization)</li>
                <li>Socket.IO (Real-time Updates)</li>
            </ul>
        </div>
        
        <div class="tech-category" data-aos="flip-left" data-aos-delay="100">
            <h4><i class="fas fa-server"></i> Backend</h4>
            <ul>
                <li>Python 3.11+</li>
                <li>SQLAlchemy (ORM)</li>
                <li>Redis (Caching)</li>
                <li>JWT (Authentication)</li>
            </ul>
        </div>
        
        <div class="tech-category" data-aos="flip-left" data-aos-delay="200">
            <h4><i class="fas fa-brain"></i> Machine Learning</h4>
            <ul>
                <li>scikit-learn (Core ML)</li>
                <li>XGBoost (Gradient Boosting)</li>
                <li>TensorFlow (Neural Networks)</li>
                <li>SHAP (Explainability)</li>
            </ul>
        </div>
        
        <div class="tech-category" data-aos="flip-left" data-aos-delay="300">
            <h4><i class="fas fa-lock"></i> Security</h4>
            <ul>
                <li>Bcrypt (Password Hashing)</li>
                <li>CSRF Protection</li>
                <li>Rate Limiting</li>
                <li>Input Validation</li>
            </ul>
        </div>
    </div>
</div>

<!-- Copyright Marquee - ONLY on Overview page -->
<div class="copyright-marquee">
    <div class="marquee-content">
        ¬© 2025 UAV Security ML System | üõ°Ô∏è Advanced AI-Powered Drone Security | 
        Real-Time Threat Detection & Neutralization | Developed by Shivansh Sharma | 
        üöÅ Protecting UAV Communications | Machine Learning Excellence | All Rights Reserved
    </div>
</div>

<!-- Add bottom padding to prevent content being hidden by marquee -->
<div style="height: 60px;"></div>
{% endblock %}

{% block extra_js %}
<script>
// Particles.js configuration
particlesJS('particles-js', {
    particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: '#ffffff' },
        shape: { type: 'circle' },
        opacity: { value: 0.5, random: false },
        size: { value: 3, random: true },
        line_linked: {
            enable: true,
            distance: 150,
            color: '#ffffff',
            opacity: 0.4,
            width: 1
        },
        move: {
            enable: true,
            speed: 2,
            direction: 'none',
            random: false,
            straight: false,
            out_mode: 'out',
            bounce: false
        }
    },
    interactivity: {
        detect_on: 'canvas',
        events: {
            onhover: { enable: true, mode: 'repulse' },
            onclick: { enable: true, mode: 'push' },
            resize: true
        }
    },
    retina_detect: true
});

// Typed.js for animated title
var typed = new Typed('#typed-title', {
    strings: ['UAV Security Threat Detection System'],
    typeSpeed: 50,
    backSpeed: 30,
    loop: false,
    showCursor: true,
    cursorChar: '|'
});

// CountUp.js for statistics
window.addEventListener('load', function() {
    // Total Threats
    var threatCounter = new CountUp('stat-threats', 0, 1247, 0, 2.5, {
        useEasing: true,
        useGrouping: true,
        separator: ',',
        decimal: '.'
    });
    if (!threatCounter.error) {
        threatCounter.start();
    }
    
    // Accuracy
    var accuracyCounter = new CountUp('stat-accuracy', 0, 98.7, 1, 2.5, {
        useEasing: true,
        useGrouping: false,
        separator: ',',
        decimal: '.',
        suffix: '%'
    });
    if (!accuracyCounter.error) {
        accuracyCounter.start();
    }
    
    // Uptime
    var uptimeCounter = new CountUp('stat-uptime', 0, 99.9, 1, 2.5, {
        useEasing: true,
        useGrouping: false,
        separator: ',',
        decimal: '.',
        suffix: '%'
    });
    if (!uptimeCounter.error) {
        uptimeCounter.start();
    }
    
    // Response Time
    var responseCounter = new CountUp('stat-response', 0, 1.2, 1, 2.5, {
        useEasing: true,
        useGrouping: false,
        separator: ',',
        decimal: '.',
        suffix: 's'
    });
    if (!responseCounter.error) {
        responseCounter.start();
    }
});
</script>
{% endblock %}
